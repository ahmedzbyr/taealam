# Monitoring

## Â Bigquery

Metrics from BigQuery.

| Metric Type                              | Launch Stage | Display Name                                 | Kind             | Type                                                                                                                          | Unit                                               | Monitored Resource | Description                                                                                                                        | Labels                                                                  |
| ---------------------------------------- | ------------ | -------------------------------------------- | ---------------- | ----------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------- | ------------------ | ---------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------- |
| job/num_in_flight                        | GA           | Job count                                    | GAUGE            | INT64                                                                                                                         | 1                                                  | bigquery_project   | In flight jobs. Sampled every 60 seconds. Data not visible for up to 720 seconds.                                                  | priority: Job priority. <br> job_type: Job type. <br> state: Job state. |
| query/biengine_fallback_count            | GA           | BI Engine query fallback count               | DELTA            | INT64                                                                                                                         | 1                                                  | bigquery_project   | Reasons queries failed BI Engine execution. Sampled every 60 seconds. Data not visible for up to 120 seconds.                      | reason: BI Engine fallback reasons.                                     |
| query/count                              | GA           | Query count                                  | GAUGE            | INT64                                                                                                                         | 1                                                  | bigquery_project   | In flight queries. Sampled every 60 seconds. Data not visible for up to 420 seconds.                                               | priority: Query priority.                                               |
| query/execution_count                    | GA           | Query execution count                        | DELTA            | INT64                                                                                                                         | 1                                                  | bigquery_project   | Number of queries executed. Sampled every 60 seconds. Data not visible for up to 420 seconds.                                      | priority: Query priority. <br> caching_mode: Query caching mode.        |
| query/execution_times                    | GA           | Query execution times                        | GAUGE            | DISTRIBUTION                                                                                                                  | s                                                  | bigquery_project   | Distribution of execution times for successful queries in the last interval. Sampled every 60 seconds. Data not visible for 420s.  | priority: Query priority.                                               |
| query/scanned_bytes                      | GA           | Scanned bytes                                | DELTA            | INT64                                                                                                                         | By                                                 | global             | Scanned bytes. Sampled every 60 seconds. Data not visible for up to 21720 seconds.                                                 | priority: Query priority.                                               |
| query/scanned_bytes_billed               | GA           | Scanned bytes billed                         | DELTA            | INT64                                                                                                                         | By                                                 | global             | Scanned bytes billed. Sampled every 60 seconds. Data not visible for up to 21720 seconds.                                          | priority: Query priority.                                               |
| query/statement_scanned_bytes            | BETA         | Statement scanned bytes                      | DELTA            | INT64                                                                                                                         | By                                                 | bigquery_project   | Scanned bytes by statement type. Sampled every 60 seconds. Data not visible for up to 180 seconds.                                 | priority: Query priority. <br> statement_type: Query statement type.    |
| query/statement_scanned_bytes_billed     | BETA         | Statement scanned bytes billed               | DELTA            | INT64                                                                                                                         | By                                                 | bigquery_project   | Scanned bytes billed by statement type. Sampled every 60 seconds. Data not visible for up to 180 seconds.                          | priority: Query priority. <br> statement_type: Query statement type.    |
| slots/allocated                          | GA           | Slots used by project, reservation, job type | GAUGE            | INT64                                                                                                                         | 1                                                  | bigquery_project   | Number of BigQuery slots currently allocated for project. Sampled every 60 seconds. Data not visible for up to 420 seconds.        | reservation: Reservation. <br> job_type: Job type.                      |
| slots/allocated_for_project              | GA           | Slots used by project                        | GAUGE            | INT64                                                                                                                         | 1                                                  | global             | Number of BigQuery slots currently allocated for query jobs in the project. Sampled every 60 seconds. Data not visible for 420s.   |                                                                         |
| slots/allocated_for_project_and_job_type | GA           | Slots used by project and job type           | GAUGE            | INT64                                                                                                                         | 1                                                  | global             | Number of BigQuery slots currently allocated for the project and job type. Sampled every 60 seconds. Data not visible for 420s.    | job_type: Job type.                                                     |
| slots/allocated_for_reservation          | GA           | Slots used by project in reservation         | GAUGE            | INT64                                                                                                                         | 1                                                  | global             | Number of BigQuery slots currently allocated for project in the reservation. Sampled every 60 seconds. Data not visible for 420s.  |                                                                         |
| slots/assigned                           | EARLY_ACCESS | Slots assigned                               |
| GAUGE                                    | INT64        | 1                                            | bigquery_project | Number of slots assigned to the given project/organization. Sampled every 60 seconds. Data not visible for up to 180 seconds. | job_type: Job type. <br> reservation: Reservation. |
| slots/capacity_committed                 | EARLY_ACCESS | Slots capacity committed                     | GAUGE            | INT64                                                                                                                         | 1                                                  | bigquery_project   | Total slot capacity commitments purchased. Sampled every 60 seconds. Data not visible for up to 180 seconds.                       | plan: Capacity commitment plan.                                         |
| slots/max_assigned                       | EARLY_ACCESS | Slots max assigned                           | GAUGE            | INT64                                                                                                                         | 1                                                  | bigquery_project   | Maximum number of slots assigned to the project/organization. Sampled every 60 seconds. Data not visible for up to 180 seconds.    | job_type: Job type. <br> reservation: Reservation.                      |
| slots/total_allocated_for_reservation    | GA           | Slots used across projects in reservation    | GAUGE            | INT64                                                                                                                         | 1                                                  | bigquery_project   | Number of BigQuery slots allocated across projects in the reservation. Sampled every 60 seconds. Data not visible for 420 seconds. |                                                                         |
| slots/total_available                    | DEPRECATED   | Total slots                                  | GAUGE            | INT64                                                                                                                         | 1                                                  | bigquery_project   | (Deprecated) Total number of BigQuery slots available for the project. Sampled every 60 seconds. Data not visible for 420 seconds. |                                                                         |
| storage/insertall_inserted_bytes         | GA           | InsertAll Inserted Bytes                     | DELTA            | DOUBLE                                                                                                                        | 1                                                  | bigquery_project   | Bytes uploaded using the InsertAll streaming API. Sampled every 60 seconds. Data not visible for up to 120 seconds.                |                                                                         |
| storage/insertall_inserted_rows          | GA           | InsertAll Inserted Rows                      | DELTA            | DOUBLE                                                                                                                        | 1                                                  | bigquery_project   | Rows uploaded using the InsertAll streaming API. Sampled every 60 seconds. Data not visible for up to 120 seconds.                 |                                                                         |
| storage/stored_bytes                     | GA           | Stored bytes                                 | GAUGE            | INT64                                                                                                                         | By                                                 | bigquery_dataset   | Number of bytes stored. Sampled every 1800 seconds. Data not visible for up to 10800 seconds.                                      | table: Table name.                                                      |
| storage/table_count                      | GA           | Table count                                  | GAUGE            | INT64                                                                                                                         | 1                                                  | bigquery_dataset   | Number of tables. Sampled every 1800 seconds. Data not visible for up to 10800 seconds.                                            |                                                                         |
| storage/uploaded_bytes                   | GA           | Uploaded bytes                               | DELTA            | INT64                                                                                                                         | By                                                 | bigquery_dataset   | Uploaded bytes. Sampled every 60 seconds. Data not visible for up to 21720 seconds.                                                | api: API used to upload the data. <br> table: Table name.               |
| storage/uploaded_bytes_billed            | GA           | Uploaded bytes billed                        | DELTA            | INT64                                                                                                                         | By                                                 | bigquery_dataset   | Uploaded bytes billed. Sampled every 60 seconds. Data not visible for up to 21720 seconds.                                         | api: API used to upload the data. <br> table: Table name.               |
| storage/uploaded_row_count               | GA           | Uploaded rows                                | DELTA            | INT64                                                                                                                         | 1                                                  | bigquery_dataset   | Uploaded rows. Sampled every 60 seconds. Data not visible for up to 21720 seconds.                                                 | api: API used to upload the data. <br> table: Table name.               |

## BigQuery Data Transfer Service

Information about BigQuery Data Transfer Service metrics.

| Metric Type                             | Launch Stage | Display Name                | Kind  | Type         | Unit | Monitored Resource  | Description                                                                                                                                      | Labels                                                                                                 |
| --------------------------------------- | ------------ | --------------------------- | ----- | ------------ | ---- | ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------ |
| transfer_config/active_runs             | BETA         | Active run count            | GAUGE | INT64        | 1    | bigquery_dts_config | Number of transfer runs (running or pending) of the transfer configuration. Sampled every 60s. Data not visible for up to 180s.                  | state: Run state. <br> run_cause: Run cause.                                                           |
| transfer_config/completed_runs          | BETA         | Completed run count         | DELTA | INT64        | 1    | bigquery_dts_config | Number of completed DTS runs per transfer configuration. Sampled every 60s. Data not visible for up to 180s.                                     | status: Run error status code. <br> completion_state: Run completion state. <br> run_cause: Run cause. |
| transfer_config/last_execution_job_rows | BETA         | Last executed job row count | GAUGE | INT64        | 1    | bigquery_dts_config | Number of rows from last executed job of transfer configuration. Sampled every 60s. Data not visible for up to 240s.                             | run_cause: Run cause.                                                                                  |
| transfer_config/run_duration_seconds    | BETA         | Run latency distribution    | DELTA | DISTRIBUTION | s    | bigquery_dts_config | Distribution of execution time (in seconds) of each transfer run per transfer configuration. Sampled every 60s. Data not visible for up to 180s. | run_cause: Run cause.                                                                                  |





##  BigTable


| Metric Type                                            | Launch Stage | Display Name                               | Kind  | Type         | Unit | Monitored Resource | Description                                                                                                                                                                                                     | Labels                                                                                                                                                                                                                                |
| ------------------------------------------------------ | ------------ | ------------------------------------------ | ----- | ------------ | ---- | ------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| backup/bytes_used                                      | GA           | Backup storage used                        | GAUGE | INT64        | By   | bigtable_backup    | Backup storage used in bytes. Sampled every 60 seconds. After sampling, data is not visible for up to 180 seconds.                                                                                              | source_table: Source table of the backup. <br> storage_type: Type of disk storage.                                                                                                                                                    |
| client/application_blocking_latencies                  | GA           | Application Blocking Latencies             | DELTA | DISTRIBUTION | ms   | bigtable_table     | Total latency by application when Cloud Bigtable has available response data but application has not consumed it. Sampled every 60 seconds. Data not visible for up to 120 seconds.                             | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile. <br> client_name: Cloud Bigtable client name.                                                                                                |
| client/attempt_latencies                               | GA           | Attempt Latencies                          | DELTA | DISTRIBUTION | ms   | bigtable_table     | Client observed latency per RPC attempt. Sampled every 60 seconds. After sampling, data is not visible for up to 120 seconds.                                                                                   | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile. <br> streaming: Cloud Bigtable streaming method. <br> status: Cloud Bigtable attempt status. <br> client_name: Cloud Bigtable client name.   |
| client/client_blocking_latencies                       | GA           | Client Blocking Latencies                  | DELTA | DISTRIBUTION | ms   | bigtable_table     | Latency by client blocking on sending more requests to server when too many pending requests in bulk operations. Sampled every 60 seconds. Data not visible for up to 120 seconds.                              | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile. <br> client_name: Cloud Bigtable client name.                                                                                                |
| client/connectivity_error_count                        | GA           | Connectivity Error Count                   | DELTA | INT64        | 1    | bigtable_table     | Number of requests failed to reach Google network (without google response headers). Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                          | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile. <br> status: Cloud Bigtable operation status. <br> client_name: Cloud Bigtable client name.                                                  |
| client/first_response_latencies                        | GA           | First Response Latencies                   | DELTA | DISTRIBUTION | ms   | bigtable_table     | Latency from operation start until response headers received. Publishing delayed until attempt response received. Sampled every 60 seconds. Data not visible for up to 120 seconds.                             | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile. <br> status: Cloud Bigtable operation status. <br> client_name: Cloud Bigtable client name.                                                  |
| client/operation_latencies                             | GA           | Operation Latencies                        | DELTA | DISTRIBUTION | ms   | bigtable_table     | Distribution of total end-to-end latency across all RPC attempts associated with a Bigtable operation. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                        | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile. <br> streaming: Cloud Bigtable streaming method. <br> status: Cloud Bigtable operation status. <br> client_name: Cloud Bigtable client name. |
| client/retry_count                                     | GA           | Retry Count                                | DELTA | INT64        | 1    | bigtable_table     | Number of additional RPCs sent after initial attempt. Sampled every 60 seconds. After sampling, data is not visible for up to 120 seconds.                                                                      | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile. <br> status: Cloud Bigtable operation status. <br> client_name: Cloud Bigtable client name.                                                  |
| client/server_latencies                                | GA           | Server Latencies                           | DELTA | DISTRIBUTION | ms   | bigtable_table     | Latency measured between Google frontend receiving an RPC and sending back first byte of response. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                            | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile. <br> streaming: Cloud Bigtable streaming method. <br> status: Cloud Bigtable operation status. <br> client_name: Cloud Bigtable client name. |
| cluster/autoscaling/max_node_count                     | GA           | Maximum nodes                              | GAUGE | INT64        | 1    | bigtable_cluster   | Maximum number of nodes in an autoscaled cluster. Sampled every 60 seconds. After sampling, data is not visible for up to 240 seconds.                                                                          | storage_type: Storage type for the cluster.                                                                                                                                                                                           |
| cluster/autoscaling/min_node_count                     | GA           | Minimum nodes                              | GAUGE | INT64        | 1    | bigtable_cluster   | Minimum number of nodes in an autoscaled cluster. Sampled every 60 seconds. After sampling, data is not visible for up to 240 seconds.                                                                          | storage_type: Storage type for the cluster.                                                                                                                                                                                           |
| cluster/autoscaling/recommended_node_count_for_cpu     | GA           | Recommended nodes based on CPU             | GAUGE | INT64        | 1    | bigtable_cluster   | Recommended number of nodes in an autoscaled cluster based on CPU usage. Sampled every 60 seconds. After sampling, data is not visible for up to 180 seconds.                                                   |                                                                                                                                                                                                                                       |
| cluster/autoscaling/recommended_node_count_for_storage | GA           | Recommended nodes based on storage         | GAUGE | INT64        | 1    | bigtable_cluster   | Recommended number of nodes in an autoscaled cluster based on storage usage. Sampled every 60 seconds. After sampling, data is not visible for up to 180 seconds.                                               |                                                                                                                                                                                                                                       |
| cluster/cpu_load                                       | GA           | CPU load                                   | GAUGE | DOUBLE       | 1    | bigtable_cluster   | CPU load of a cluster. Sampled every 60 seconds. After sampling, data is not visible for up to 180 seconds.                                                                                                     |                                                                                                                                                                                                                                       |
| cluster/cpu_load_by_app_profile_by_method_by_table     | GA           | CPU load by app profile, method, and table | GAUGE | DOUBLE       | 1    | bigtable_cluster   | CPU load of a cluster, split by app profile, method, and table. Contains same underlying data as bigtable.googleapis.com/cluster/cpu_load. Sampled every 60 seconds. Data not visible for up to 240 seconds.    | app_profile: Cloud Bigtable application profile. <br> method: Cloud Bigtable API method. <br> table: Cloud Bigtable table name.                                                                                                       |
| cluster/cpu_load_hottest_node                          | GA           | CPU load (hottest node)                    | GAUGE | DOUBLE       | 1    | bigtable_cluster   | CPU load of the busiest node in a cluster. Sampled every 60 seconds. Data not visible for up to 180 seconds.                                                                                                    |                                                                                                                                                                                                                                       |
| cluster/cpu_load_hottest_node_high_granularity         | GA           | CPU load (hottest node) high granularity   | GAUGE | DOUBLE       | 1    | bigtable_cluster   | CPU load of the busiest node in a cluster sampled at high granularity. Sampled every 60 seconds. Data not visible for up to 300 seconds.                                                                        |                                                                                                                                                                                                                                       |
| cluster/disk_load                                      | GA           | Disk load                                  | GAUGE | DOUBLE       | 1    | bigtable_cluster   | Utilization of HDD disks in a cluster. Sampled every 60 seconds. Data not visible for up to 180 seconds.                                                                                                        |                                                                                                                                                                                                                                       |
| cluster/node_count                                     | GA           | Nodes                                      | GAUGE | INT64        | 1    | bigtable_cluster   | Number of nodes in a cluster. Sampled every 60 seconds. Data not visible for up to 240 seconds.                                                                                                                 | storage_type: Storage type for the cluster.                                                                                                                                                                                           |
| cluster/storage_utilization                            | GA           | Storage utilization                        | GAUGE | DOUBLE       | 1    | bigtable_cluster   | Storage used as a fraction of total storage capacity. Sampled every 60 seconds. Data not visible for up to 180 seconds.                                                                                         | storage_type: Storage type for the cluster.                                                                                                                                                                                           |
| disk/bytes_used                                        | GA           | Data stored                                | GAUGE | INT64        | By   | bigtable_cluster   | Amount of compressed data for tables stored in a cluster. Sampled every 60 seconds. Data not visible for up to 180 seconds.                                                                                     | storage_type: Type of disk storage.                                                                                                                                                                                                   |
| disk/per_node_storage_capacity                         | EARLY_ACCESS | Storage capacity per node                  | GAUGE | INT64        | By   | bigtable_cluster   | Capacity of compressed data for tables that can be stored per node in the cluster. Sampled every 60 seconds. Data not visible for up to 240 seconds.                                                            | storage_type: Storage type for the cluster.                                                                                                                                                                                           |
| disk/storage_capacity                                  | GA           | Storage capacity                           | GAUGE | INT64        | By   | bigtable_cluster   | Capacity of compressed data for tables that can be stored in a cluster. Sampled every 60 seconds. Data not visible for up to 240 seconds.                                                                       | storage_type: Storage type for the cluster.                                                                                                                                                                                           |
| replication/latency                                    | GA           | Replication latencies                      | DELTA | DISTRIBUTION | ms   | bigtable_table     | Distribution of replication request latencies for a table. Includes only requests received by the destination cluster. Sampled every 60 seconds. Data not visible for up to 240 seconds.                        | source_cluster: Source cluster of the replicated data. <br> source_zone: Source zone of the replicated data.                                                                                                                          |
| replication/max_delay                                  | GA           | Replication maximum delay                  | GAUGE | DOUBLE       | s    | bigtable_table     | Upper bound for replication delay between clusters of a table. Indicates the time frame during which latency information may not be accurate. Sampled every 60 seconds. Data not visible for up to 240 seconds. | source_cluster: Source cluster of the replicated data. <br> source_zone: Source zone of the replicated data.                                                                                                                          |
| server/error_count                                     | GA           | Error count                                | DELTA | INT64        | 1    | bigtable_table     | Number of server requests for a table that failed with an error. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                              | method: Cloud Bigtable API method. <br> error_code: gRPC Error Code. <br> app_profile: Cloud Bigtable application profile.                                                                                                            |
| server/latencies                                       | GA           | Server Latencies                           | DELTA | DISTRIBUTION | ms   | bigtable_table     | Distribution of server request latencies for a table, measured when calls reach Cloud Bigtable. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                               | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile.                                                                                                                                              |
| server/modified_rows_count                             | GA           | Modified rows                              | DELTA | INT64        | 1    | bigtable_table     | Number of rows modified by server requests for a table. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                       | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile.                                                                                                                                              |
| server/multi_cluster_failovers_count                   | GA           | Multi-cluster failovers                    | DELTA | INT64        | 1    | bigtable_table     | Number of failovers during multi-cluster requests. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                            | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile.                                                                                                                                              |
| server/received_bytes_count                            | GA           | Received bytes                             | DELTA | INT64        | By   | bigtable_table     | Number of bytes of request data received by servers for a table. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                              | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile.                                                                                                                                              |
| server/request_count                                   | GA           | Request count                              | DELTA | INT64        | 1    | bigtable_table     | Number of server requests for a table. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                                        | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile.                                                                                                                                              |
| server/request_max_per_minute_count                    | GA           | Five-second maximum requests per minute    | DELTA | INT64        | 1    | bigtable_table     | Maximum number of requests received in a five-second span per minute. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                         | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile.                                                                                                                                              |
| server/returned_rows_count                             | GA           | Returned rows                              | DELTA | INT64        | 1    | bigtable_table     | Number of rows returned by server requests for a table. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                       | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile.                                                                                                                                              |
| server/sent_bytes_count                                | GA           | Sent bytes                                 | DELTA | INT64        | By   | bigtable_table     | Number of bytes of response data sent by servers for a table. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                 | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile.                                                                                                                                              |
| table/bytes_used                                       | GA           | Data stored                                | GAUGE | INT64        | By   | bigtable_table     | Amount of compressed data stored in a table. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                                  | storage_type: Type of disk storage.                                                                                                                                                                                                   |
| table/change_stream_log_used_bytes                     | GA           | Change stream data                         | GAUGE | INT64        | By   | bigtable_table     | Amount of disk storage used by the change stream logs. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                        | storage_type: Type of disk storage.                                                                                                                                                                                                   |

