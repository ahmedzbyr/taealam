# Monitoring

## Bigquery

Metrics from BigQuery.

| Metric Type                              | Launch Stage | Display Name                                 | Kind  | Type         | Unit | Monitored Resource | Description                                                                                                                        | Labels                                                                  |
| ---------------------------------------- | ------------ | -------------------------------------------- | ----- | ------------ | ---- | ------------------ | ---------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------- |
| job/num_in_flight                        | **GA**       | Job count                                    | GAUGE | INT64        | 1    | bigquery_project   | In flight jobs. Sampled every 60 seconds. Data not visible for up to 720 seconds.                                                  | priority: Job priority. <br> job_type: Job type. <br> state: Job state. |
| query/biengine_fallback_count            | **GA**       | BI Engine query fallback count               | DELTA | INT64        | 1    | bigquery_project   | Reasons queries failed BI Engine execution. Sampled every 60 seconds. Data not visible for up to 120 seconds.                      | reason: BI Engine fallback reasons.                                     |
| query/count                              | **GA**       | Query count                                  | GAUGE | INT64        | 1    | bigquery_project   | In flight queries. Sampled every 60 seconds. Data not visible for up to 420 seconds.                                               | priority: Query priority.                                               |
| query/execution_count                    | **GA**       | Query execution count                        | DELTA | INT64        | 1    | bigquery_project   | Number of queries executed. Sampled every 60 seconds. Data not visible for up to 420 seconds.                                      | priority: Query priority. <br> caching_mode: Query caching mode.        |
| query/execution_times                    | **GA**       | Query execution times                        | GAUGE | DISTRIBUTION | s    | bigquery_project   | Distribution of execution times for successful queries in the last interval. Sampled every 60 seconds. Data not visible for 420s.  | priority: Query priority.                                               |
| query/scanned_bytes                      | **GA**       | Scanned bytes                                | DELTA | INT64        | By   | global             | Scanned bytes. Sampled every 60 seconds. Data not visible for up to 21720 seconds.                                                 | priority: Query priority.                                               |
| query/scanned_bytes_billed               | **GA**       | Scanned bytes billed                         | DELTA | INT64        | By   | global             | Scanned bytes billed. Sampled every 60 seconds. Data not visible for up to 21720 seconds.                                          | priority: Query priority.                                               |
| query/statement_scanned_bytes            | BETA         | Statement scanned bytes                      | DELTA | INT64        | By   | bigquery_project   | Scanned bytes by statement type. Sampled every 60 seconds. Data not visible for up to 180 seconds.                                 | priority: Query priority. <br> statement_type: Query statement type.    |
| query/statement_scanned_bytes_billed     | BETA         | Statement scanned bytes billed               | DELTA | INT64        | By   | bigquery_project   | Scanned bytes billed by statement type. Sampled every 60 seconds. Data not visible for up to 180 seconds.                          | priority: Query priority. <br> statement_type: Query statement type.    |
| slots/allocated                          | **GA**       | Slots used by project, reservation, job type | GAUGE | INT64        | 1    | bigquery_project   | Number of BigQuery slots currently allocated for project. Sampled every 60 seconds. Data not visible for up to 420 seconds.        | reservation: Reservation. <br> job_type: Job type.                      |
| slots/allocated_for_project              | **GA**       | Slots used by project                        | GAUGE | INT64        | 1    | global             | Number of BigQuery slots currently allocated for query jobs in the project. Sampled every 60 seconds. Data not visible for 420s.   |                                                                         |
| slots/allocated_for_project_and_job_type | **GA**       | Slots used by project and job type           | GAUGE | INT64        | 1    | global             | Number of BigQuery slots currently allocated for the project and job type. Sampled every 60 seconds. Data not visible for 420s.    | job_type: Job type.                                                     |
| slots/allocated_for_reservation          | **GA**       | Slots used by project in reservation         | GAUGE | INT64        | 1    | global             | Number of BigQuery slots currently allocated for project in the reservation. Sampled every 60 seconds. Data not visible for 420s.  |                                                                         |
| slots/assigned                           | EARLY_ACCESS | Slots assigned                               | GAUGE | INT64        | 1    | bigquery_project   | Number of slots assigned to the given project/organization. Sampled every 60 seconds. Data not visible for up to 180 seconds.      | job_type: Job type. <br> reservation: Reservation.                      |
| slots/capacity_committed                 | EARLY_ACCESS | Slots capacity committed                     | GAUGE | INT64        | 1    | bigquery_project   | Total slot capacity commitments purchased. Sampled every 60 seconds. Data not visible for up to 180 seconds.                       | plan: Capacity commitment plan.                                         |
| slots/max_assigned                       | EARLY_ACCESS | Slots max assigned                           | GAUGE | INT64        | 1    | bigquery_project   | Maximum number of slots assigned to the project/organization. Sampled every 60 seconds. Data not visible for up to 180 seconds.    | job_type: Job type. <br> reservation: Reservation.                      |
| slots/total_allocated_for_reservation    | **GA**       | Slots used across projects in reservation    | GAUGE | INT64        | 1    | bigquery_project   | Number of BigQuery slots allocated across projects in the reservation. Sampled every 60 seconds. Data not visible for 420 seconds. |                                                                         |
| slots/total_available                    | DEPRECATED   | Total slots                                  | GAUGE | INT64        | 1    | bigquery_project   | (Deprecated) Total number of BigQuery slots available for the project. Sampled every 60 seconds. Data not visible for 420 seconds. |                                                                         |
| storage/insertall_inserted_bytes         | **GA**       | InsertAll Inserted Bytes                     | DELTA | DOUBLE       | 1    | bigquery_project   | Bytes uploaded using the InsertAll streaming API. Sampled every 60 seconds. Data not visible for up to 120 seconds.                |                                                                         |
| storage/insertall_inserted_rows          | **GA**       | InsertAll Inserted Rows                      | DELTA | DOUBLE       | 1    | bigquery_project   | Rows uploaded using the InsertAll streaming API. Sampled every 60 seconds. Data not visible for up to 120 seconds.                 |                                                                         |
| storage/stored_bytes                     | **GA**       | Stored bytes                                 | GAUGE | INT64        | By   | bigquery_dataset   | Number of bytes stored. Sampled every 1800 seconds. Data not visible for up to 10800 seconds.                                      | table: Table name.                                                      |
| storage/table_count                      | **GA**       | Table count                                  | GAUGE | INT64        | 1    | bigquery_dataset   | Number of tables. Sampled every 1800 seconds. Data not visible for up to 10800 seconds.                                            |                                                                         |
| storage/uploaded_bytes                   | **GA**       | Uploaded bytes                               | DELTA | INT64        | By   | bigquery_dataset   | Uploaded bytes. Sampled every 60 seconds. Data not visible for up to 21720 seconds.                                                | api: API used to upload the data. <br> table: Table name.               |
| storage/uploaded_bytes_billed            | **GA**       | Uploaded bytes billed                        | DELTA | INT64        | By   | bigquery_dataset   | Uploaded bytes billed. Sampled every 60 seconds. Data not visible for up to 21720 seconds.                                         | api: API used to upload the data. <br> table: Table name.               |
| storage/uploaded_row_count               | **GA**       | Uploaded rows                                | DELTA | INT64        | 1    | bigquery_dataset   | Uploaded rows. Sampled every 60 seconds. Data not visible for up to 21720 seconds.                                                 | api: API used to upload the data. <br> table: Table name.               |

## BigQuery Data Transfer Service

Information about BigQuery Data Transfer Service metrics.

| Metric Type                             | Launch Stage | Display Name                | Kind  | Type         | Unit | Monitored Resource  | Description                                                                                                                                      | Labels                                                                                                 |
| --------------------------------------- | ------------ | --------------------------- | ----- | ------------ | ---- | ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------ |
| transfer_config/active_runs             | BETA         | Active run count            | GAUGE | INT64        | 1    | bigquery_dts_config | Number of transfer runs (running or pending) of the transfer configuration. Sampled every 60s. Data not visible for up to 180s.                  | state: Run state. <br> run_cause: Run cause.                                                           |
| transfer_config/completed_runs          | BETA         | Completed run count         | DELTA | INT64        | 1    | bigquery_dts_config | Number of completed DTS runs per transfer configuration. Sampled every 60s. Data not visible for up to 180s.                                     | status: Run error status code. <br> completion_state: Run completion state. <br> run_cause: Run cause. |
| transfer_config/last_execution_job_rows | BETA         | Last executed job row count | GAUGE | INT64        | 1    | bigquery_dts_config | Number of rows from last executed job of transfer configuration. Sampled every 60s. Data not visible for up to 240s.                             | run_cause: Run cause.                                                                                  |
| transfer_config/run_duration_seconds    | BETA         | Run latency distribution    | DELTA | DISTRIBUTION | s    | bigquery_dts_config | Distribution of execution time (in seconds) of each transfer run per transfer configuration. Sampled every 60s. Data not visible for up to 180s. | run_cause: Run cause.                                                                                  |

## BigTable

| Metric Type                                            | Launch Stage | Display Name                               | Kind  | Type         | Unit | Monitored Resource | Description                                                                                                                                                                                                     | Labels                                                                                                                                                                                                                                |
| ------------------------------------------------------ | ------------ | ------------------------------------------ | ----- | ------------ | ---- | ------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| backup/bytes_used                                      | **GA**       | Backup storage used                        | GAUGE | INT64        | By   | bigtable_backup    | Backup storage used in bytes. Sampled every 60 seconds. After sampling, data is not visible for up to 180 seconds.                                                                                              | source_table: Source table of the backup. <br> storage_type: Type of disk storage.                                                                                                                                                    |
| client/application_blocking_latencies                  | **GA**       | Application Blocking Latencies             | DELTA | DISTRIBUTION | ms   | bigtable_table     | Total latency by application when Cloud Bigtable has available response data but application has not consumed it. Sampled every 60 seconds. Data not visible for up to 120 seconds.                             | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile. <br> client_name: Cloud Bigtable client name.                                                                                                |
| client/attempt_latencies                               | **GA**       | Attempt Latencies                          | DELTA | DISTRIBUTION | ms   | bigtable_table     | Client observed latency per RPC attempt. Sampled every 60 seconds. After sampling, data is not visible for up to 120 seconds.                                                                                   | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile. <br> streaming: Cloud Bigtable streaming method. <br> status: Cloud Bigtable attempt status. <br> client_name: Cloud Bigtable client name.   |
| client/client_blocking_latencies                       | **GA**       | Client Blocking Latencies                  | DELTA | DISTRIBUTION | ms   | bigtable_table     | Latency by client blocking on sending more requests to server when too many pending requests in bulk operations. Sampled every 60 seconds. Data not visible for up to 120 seconds.                              | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile. <br> client_name: Cloud Bigtable client name.                                                                                                |
| client/connectivity_error_count                        | **GA**       | Connectivity Error Count                   | DELTA | INT64        | 1    | bigtable_table     | Number of requests failed to reach Google network (without google response headers). Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                          | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile. <br> status: Cloud Bigtable operation status. <br> client_name: Cloud Bigtable client name.                                                  |
| client/first_response_latencies                        | **GA**       | First Response Latencies                   | DELTA | DISTRIBUTION | ms   | bigtable_table     | Latency from operation start until response headers received. Publishing delayed until attempt response received. Sampled every 60 seconds. Data not visible for up to 120 seconds.                             | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile. <br> status: Cloud Bigtable operation status. <br> client_name: Cloud Bigtable client name.                                                  |
| client/operation_latencies                             | **GA**       | Operation Latencies                        | DELTA | DISTRIBUTION | ms   | bigtable_table     | Distribution of total end-to-end latency across all RPC attempts associated with a Bigtable operation. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                        | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile. <br> streaming: Cloud Bigtable streaming method. <br> status: Cloud Bigtable operation status. <br> client_name: Cloud Bigtable client name. |
| client/retry_count                                     | **GA**       | Retry Count                                | DELTA | INT64        | 1    | bigtable_table     | Number of additional RPCs sent after initial attempt. Sampled every 60 seconds. After sampling, data is not visible for up to 120 seconds.                                                                      | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile. <br> status: Cloud Bigtable operation status. <br> client_name: Cloud Bigtable client name.                                                  |
| client/server_latencies                                | **GA**       | Server Latencies                           | DELTA | DISTRIBUTION | ms   | bigtable_table     | Latency measured between Google frontend receiving an RPC and sending back first byte of response. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                            | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile. <br> streaming: Cloud Bigtable streaming method. <br> status: Cloud Bigtable operation status. <br> client_name: Cloud Bigtable client name. |
| cluster/autoscaling/max_node_count                     | **GA**       | Maximum nodes                              | GAUGE | INT64        | 1    | bigtable_cluster   | Maximum number of nodes in an autoscaled cluster. Sampled every 60 seconds. After sampling, data is not visible for up to 240 seconds.                                                                          | storage_type: Storage type for the cluster.                                                                                                                                                                                           |
| cluster/autoscaling/min_node_count                     | **GA**       | Minimum nodes                              | GAUGE | INT64        | 1    | bigtable_cluster   | Minimum number of nodes in an autoscaled cluster. Sampled every 60 seconds. After sampling, data is not visible for up to 240 seconds.                                                                          | storage_type: Storage type for the cluster.                                                                                                                                                                                           |
| cluster/autoscaling/recommended_node_count_for_cpu     | **GA**       | Recommended nodes based on CPU             | GAUGE | INT64        | 1    | bigtable_cluster   | Recommended number of nodes in an autoscaled cluster based on CPU usage. Sampled every 60 seconds. After sampling, data is not visible for up to 180 seconds.                                                   |                                                                                                                                                                                                                                       |
| cluster/autoscaling/recommended_node_count_for_storage | **GA**       | Recommended nodes based on storage         | GAUGE | INT64        | 1    | bigtable_cluster   | Recommended number of nodes in an autoscaled cluster based on storage usage. Sampled every 60 seconds. After sampling, data is not visible for up to 180 seconds.                                               |                                                                                                                                                                                                                                       |
| cluster/cpu_load                                       | **GA**       | CPU load                                   | GAUGE | DOUBLE       | 1    | bigtable_cluster   | CPU load of a cluster. Sampled every 60 seconds. After sampling, data is not visible for up to 180 seconds.                                                                                                     |                                                                                                                                                                                                                                       |
| cluster/cpu_load_by_app_profile_by_method_by_table     | **GA**       | CPU load by app profile, method, and table | GAUGE | DOUBLE       | 1    | bigtable_cluster   | CPU load of a cluster, split by app profile, method, and table. Contains same underlying data as bigtable.googleapis.com/cluster/cpu_load. Sampled every 60 seconds. Data not visible for up to 240 seconds.    | app_profile: Cloud Bigtable application profile. <br> method: Cloud Bigtable API method. <br> table: Cloud Bigtable table name.                                                                                                       |
| cluster/cpu_load_hottest_node                          | **GA**       | CPU load (hottest node)                    | GAUGE | DOUBLE       | 1    | bigtable_cluster   | CPU load of the busiest node in a cluster. Sampled every 60 seconds. Data not visible for up to 180 seconds.                                                                                                    |                                                                                                                                                                                                                                       |
| cluster/cpu_load_hottest_node_high_granularity         | **GA**       | CPU load (hottest node) high granularity   | GAUGE | DOUBLE       | 1    | bigtable_cluster   | CPU load of the busiest node in a cluster sampled at high granularity. Sampled every 60 seconds. Data not visible for up to 300 seconds.                                                                        |                                                                                                                                                                                                                                       |
| cluster/disk_load                                      | **GA**       | Disk load                                  | GAUGE | DOUBLE       | 1    | bigtable_cluster   | Utilization of HDD disks in a cluster. Sampled every 60 seconds. Data not visible for up to 180 seconds.                                                                                                        |                                                                                                                                                                                                                                       |
| cluster/node_count                                     | **GA**       | Nodes                                      | GAUGE | INT64        | 1    | bigtable_cluster   | Number of nodes in a cluster. Sampled every 60 seconds. Data not visible for up to 240 seconds.                                                                                                                 | storage_type: Storage type for the cluster.                                                                                                                                                                                           |
| cluster/storage_utilization                            | **GA**       | Storage utilization                        | GAUGE | DOUBLE       | 1    | bigtable_cluster   | Storage used as a fraction of total storage capacity. Sampled every 60 seconds. Data not visible for up to 180 seconds.                                                                                         | storage_type: Storage type for the cluster.                                                                                                                                                                                           |
| disk/bytes_used                                        | **GA**       | Data stored                                | GAUGE | INT64        | By   | bigtable_cluster   | Amount of compressed data for tables stored in a cluster. Sampled every 60 seconds. Data not visible for up to 180 seconds.                                                                                     | storage_type: Type of disk storage.                                                                                                                                                                                                   |
| disk/per_node_storage_capacity                         | EARLY_ACCESS | Storage capacity per node                  | GAUGE | INT64        | By   | bigtable_cluster   | Capacity of compressed data for tables that can be stored per node in the cluster. Sampled every 60 seconds. Data not visible for up to 240 seconds.                                                            | storage_type: Storage type for the cluster.                                                                                                                                                                                           |
| disk/storage_capacity                                  | **GA**       | Storage capacity                           | GAUGE | INT64        | By   | bigtable_cluster   | Capacity of compressed data for tables that can be stored in a cluster. Sampled every 60 seconds. Data not visible for up to 240 seconds.                                                                       | storage_type: Storage type for the cluster.                                                                                                                                                                                           |
| replication/latency                                    | **GA**       | Replication latencies                      | DELTA | DISTRIBUTION | ms   | bigtable_table     | Distribution of replication request latencies for a table. Includes only requests received by the destination cluster. Sampled every 60 seconds. Data not visible for up to 240 seconds.                        | source_cluster: Source cluster of the replicated data. <br> source_zone: Source zone of the replicated data.                                                                                                                          |
| replication/max_delay                                  | **GA**       | Replication maximum delay                  | GAUGE | DOUBLE       | s    | bigtable_table     | Upper bound for replication delay between clusters of a table. Indicates the time frame during which latency information may not be accurate. Sampled every 60 seconds. Data not visible for up to 240 seconds. | source_cluster: Source cluster of the replicated data. <br> source_zone: Source zone of the replicated data.                                                                                                                          |
| server/error_count                                     | **GA**       | Error count                                | DELTA | INT64        | 1    | bigtable_table     | Number of server requests for a table that failed with an error. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                              | method: Cloud Bigtable API method. <br> error_code: gRPC Error Code. <br> app_profile: Cloud Bigtable application profile.                                                                                                            |
| server/latencies                                       | **GA**       | Server Latencies                           | DELTA | DISTRIBUTION | ms   | bigtable_table     | Distribution of server request latencies for a table, measured when calls reach Cloud Bigtable. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                               | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile.                                                                                                                                              |
| server/modified_rows_count                             | **GA**       | Modified rows                              | DELTA | INT64        | 1    | bigtable_table     | Number of rows modified by server requests for a table. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                       | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile.                                                                                                                                              |
| server/multi_cluster_failovers_count                   | **GA**       | Multi-cluster failovers                    | DELTA | INT64        | 1    | bigtable_table     | Number of failovers during multi-cluster requests. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                            | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile.                                                                                                                                              |
| server/received_bytes_count                            | **GA**       | Received bytes                             | DELTA | INT64        | By   | bigtable_table     | Number of bytes of request data received by servers for a table. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                              | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile.                                                                                                                                              |
| server/request_count                                   | **GA**       | Request count                              | DELTA | INT64        | 1    | bigtable_table     | Number of server requests for a table. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                                        | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile.                                                                                                                                              |
| server/request_max_per_minute_count                    | **GA**       | Five-second maximum requests per minute    | DELTA | INT64        | 1    | bigtable_table     | Maximum number of requests received in a five-second span per minute. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                         | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile.                                                                                                                                              |
| server/returned_rows_count                             | **GA**       | Returned rows                              | DELTA | INT64        | 1    | bigtable_table     | Number of rows returned by server requests for a table. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                       | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile.                                                                                                                                              |
| server/sent_bytes_count                                | **GA**       | Sent bytes                                 | DELTA | INT64        | By   | bigtable_table     | Number of bytes of response data sent by servers for a table. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                 | method: Cloud Bigtable API method. <br> app_profile: Cloud Bigtable application profile.                                                                                                                                              |
| table/bytes_used                                       | **GA**       | Data stored                                | GAUGE | INT64        | By   | bigtable_table     | Amount of compressed data stored in a table. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                                  | storage_type: Type of disk storage.                                                                                                                                                                                                   |
| table/change_stream_log_used_bytes                     | **GA**       | Change stream data                         | GAUGE | INT64        | By   | bigtable_table     | Amount of disk storage used by the change stream logs. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                        | storage_type: Type of disk storage.                                                                                                                                                                                                   |

##  Dataproc

Dataproc metrics

| Metric Type                              | Launch Stage | Display Name                     | Kind  | Type         | Unit | Monitored Resource     | Description                                                                                                                                                                        | Labels                                                                                              |
| ---------------------------------------- | ------------ | -------------------------------- | ----- | ------------ | ---- | ---------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------- |
| batch/spark/executors                    | BETA         | Batch Spark executors            | GAUGE | INT64        | 1    | cloud_dataproc_batch   | Number of Batch Spark executors. Sampled every 60 seconds. Data not visible for up to 60 seconds.                                                                                  | status: Status of Batch Spark executors (running, pending-delete, etc.)                             |
| cluster/capacity_deviation               | BETA         | Cluster capacity deviation       | GAUGE | INT64        | 1    | cloud_dataproc_cluster | Difference between expected node count and actual active YARN node managers. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                     |                                                                                                     |
| cluster/hdfs/datanodes                   | **GA**       | HDFS DataNodes                   | GAUGE | INT64        | 1    | cloud_dataproc_cluster | Number of HDFS DataNodes in a cluster. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                           | status: Status of DataNode (running, decommissioning, etc.)                                         |
| cluster/hdfs/storage_capacity            | **GA**       | HDFS capacity                    | GAUGE | DOUBLE       | GiBy | cloud_dataproc_cluster | Capacity of HDFS system in GB. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                   | status: Status of HDFS capacity (used, remaining).                                                  |
| cluster/hdfs/storage_utilization         | **GA**       | HDFS storage utilization         | GAUGE | DOUBLE       | 1    | cloud_dataproc_cluster | Percentage of HDFS storage used. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                 |                                                                                                     |
| cluster/hdfs/unhealthy_blocks            | **GA**       | Unhealthy HDFS blocks by status  | GAUGE | INT64        | 1    | cloud_dataproc_cluster | Number of unhealthy blocks in the cluster. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                       | status: Status of unhealthy HDFS block (missing, under_replication, etc.)                           |
| cluster/job/completion_time              | **GA**       | Job duration                     | DELTA | DISTRIBUTION | s    | cloud_dataproc_cluster | Time jobs took to complete. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                      | job_type: Type of job (HADOOP_JOB, SPARK_JOB, etc.)                                                 |
| cluster/job/duration                     | **GA**       | Job state duration               | DELTA | DISTRIBUTION | s    | cloud_dataproc_cluster | Time jobs have spent in a given state. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                           | job_type: Type of job. <br> state: State of the job (PENDING, RUNNING, etc.)                        |
| cluster/job/failed_count                 | **GA**       | Failed jobs                      | DELTA | INT64        | 1    | cloud_dataproc_cluster | Number of jobs failed on a cluster. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                              | error_type: RPC code of the error (404, 503, etc.) <br> job_type: Type of job.                      |
| cluster/job/running_count                | **GA**       | Running jobs                     | GAUGE | INT64        | 1    | cloud_dataproc_cluster | Number of jobs running on a cluster. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                             | job_type: Type of job (HADOOP_JOB, SPARK_JOB, etc.)                                                 |
| cluster/job/submitted_count              | **GA**       | Submitted jobs                   | DELTA | INT64        | 1    | cloud_dataproc_cluster | Number of jobs submitted to a cluster. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                           | job_type: Type of job (HADOOP_JOB, SPARK_JOB, etc.)                                                 |
| cluster/nodes/expected                   | BETA         | Expected Nodes                   | GAUGE | INT64        | 1    | cloud_dataproc_cluster | Number of nodes expected in a cluster. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                           | node_type: Type of node (SINGLE_NODE, MASTER, etc.)                                                 |
| cluster/nodes/failed_count               | BETA         | Failed Nodes                     | DELTA | INT64        | 1    | cloud_dataproc_cluster | Number of nodes that have failed in a cluster. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                   | node_type: Type of node. <br> failure_type: Type of failure (GCE_ERROR, DATAPROC_AGENT_ERROR, etc.) |
| cluster/nodes/recovered_count            | BETA         | Recovered Nodes                  | DELTA | INT64        | 1    | cloud_dataproc_cluster | Number of nodes detected as failed and removed from cluster. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                     | node_type: Type of node.                                                                            |
| cluster/nodes/running                    | BETA         | Running Nodes                    | GAUGE | INT64        | 1    | cloud_dataproc_cluster | Number of nodes in running state. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                | node_type: Type of node.                                                                            |
| cluster/operation/completion_time        | **GA**       | Operation duration               | DELTA | DISTRIBUTION | s    | cloud_dataproc_cluster | Time operations took to complete. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                | operation_type: Type of operation (CREATE_CLUSTER, DELETE_CLUSTER, etc.)                            |
| cluster/operation/duration               | **GA**       | Operation state duration         | DELTA | DISTRIBUTION | s    | cloud_dataproc_cluster | Time operations have spent in a given state. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                     | operation_type: State of the operation. <br> state: Type of operation.                              |
| cluster/operation/failed_count           | **GA**       | Failed operations                | DELTA | INT64        | 1    | cloud_dataproc_cluster | Number of operations that have failed on a cluster. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                              | error_type: RPC code of the error. <br> operation_type: Type of operation.                          |
| cluster/operation/running_count          | **GA**       | Running operations               | GAUGE | INT64        | 1    | cloud_dataproc_cluster | Number of operations running on a cluster. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                       | operation_type: Type of operation.                                                                  |
| cluster/operation/submitted_count        | **GA**       | Submitted operations             | DELTA | INT64        | 1    | cloud_dataproc_cluster | Number of operations submitted to a cluster. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                     | operation_type: Type of operation.                                                                  |
| cluster/yarn/allocated_memory_percentage | **GA**       | YARN allocated memory percentage | GAUGE | DOUBLE       | 1    | cloud_dataproc_cluster | Percentage of YARN memory allocated. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                             |                                                                                                     |
| cluster/yarn/apps                        | **GA**       | YARN active applications         | GAUGE | INT64        | 1    | cloud_dataproc_cluster | Number of active YARN applications. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                              | status: Status of YARN application (running, pending, etc.)                                         |
| cluster/yarn/containers                  | **GA**       | YARN containers                  | GAUGE | INT64        | 1    | cloud_dataproc_cluster | Number of YARN containers. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                       | status: Status of YARN container (allocated, pending, reserved).                                    |
| cluster/yarn/memory_size                 | **GA**       | YARN memory size                 | GAUGE | DOUBLE       | GiBy | cloud_dataproc_cluster | YARN memory size in GB. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                          | status: Status of YARN memory (available, allocated, reserved).                                     |
| cluster/yarn/nodemanagers                | **GA**       | YARN NodeManagers                | GAUGE | INT64        | 1    | cloud_dataproc_cluster | Number of YARN NodeManagers in cluster. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                          | status: Status of YARN NodeManager (active, lost, etc.)                                             |
| cluster/yarn/pending_memory_size         | **GA**       | YARN pending memory size         | GAUGE | DOUBLE       | GiBy | cloud_dataproc_cluster | Current memory request pending to be fulfilled by scheduler. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                     |                                                                                                     |
| cluster/yarn/virtual_cores               | **GA**       | YARN virtual cores               | GAUGE | INT64        | 1    | cloud_dataproc_cluster | Number of virtual cores in YARN. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                 | status: Status of YARN virtual cores (pending, allocated, etc.)                                     |
| job/state                                | **GA**       | Job state                        | GAUGE | BOOL         |      | cloud_dataproc_job     | Whether job is currently in a particular state. True indicates in that state, False indicates exited that state. Sampled every 60 seconds. Data not visible for up to 120 seconds. | state: State of the job (PENDING, RUNNING, etc.)                                                    |
| job/yarn/memory_seconds                  | BETA         | Consumed memory seconds by job   | GAUGE | INT64        | 1    | cloud_dataproc_job     | Memory Seconds consumed by the job per yarn application ID. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                      | application_id: Yarn application ID.                                                                |
| job/yarn/vcore_seconds                   | BETA         | Consumed vcore seconds by job    | GAUGE | INT64        | 1    | cloud_dataproc_job     | VCore Seconds consumed by the job per yarn application ID. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                       | application_id: Yarn application ID.                                                                |
| node/problem_count                       | BETA         | Problem count                    | DELTA | INT64        | 1    | gce_instance           | Total number of times a specific type of problem has occurred. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                   | reason: Type of the problem.                                                                        |
| node/yarn/nodemanager/health             | BETA         | YARN NodeManager Health          | GAUGE | INT64        | 1    | gce_instance           | YARN nodemanager health state. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                                                                   | state: Health state of yarn nodemanager for the gce instance resource.                              |
| session/spark/executors                  | BETA         | Session Spark executors          | GAUGE | INT64        | 1    | cloud_dataproc_session | Number of Session Spark executors. Sampled every 60 seconds. Data not visible for up to 60 seconds.                                                                                | status: Status of Session Spark executors (running, pending-delete, etc.)                           |

## Datastore

| Metric Type                              | Launch Stage | Display Name                      | Kind  | Type         | Unit | Monitored Resource | Description                                                                                                                             | Labels                                                                                                              |
| ---------------------------------------- | ------------ | --------------------------------- | ----- | ------------ | ---- | ------------------ | --------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------- |
| api/request_count                        | **GA**       | Requests                          | DELTA | INT64        | 1    | datastore_request  | Count of Datastore API calls. Sampled every 60 seconds. Data not visible for up to 240 seconds.                                         | api_method: API method called (e.g., BeginTransaction, Commit). <br> response_code: Operation response code string. |
| entity/read_sizes                        | **GA**       | Sizes of read entities            | DELTA | DISTRIBUTION | By   | datastore_request  | Distribution of sizes of read entities, grouped by type. Sampled every 60 seconds. Data not visible for up to 240 seconds.              | type: Type of entity read (e.g., KEYS_ONLY, ENTITY_SCAN).                                                           |
| entity/ttl_deletion_count                | **GA**       | TTL deletion count                | DELTA | INT64        | 1    | datastore_request  | Total count of entities deleted by TTL services. Sampled every 60 seconds. Data not visible for up to 240 seconds.                      |                                                                                                                     |
| entity/ttl_expiration_to_deletion_delays | **GA**       | TTL expiration to deletion delays | DELTA | DISTRIBUTION | s    | datastore_request  | Time elapsed between TTL expiration and actual deletion of an entity. Sampled every 60 seconds. Data not visible for up to 240 seconds. |                                                                                                                     |
| entity/write_sizes                       | **GA**       | Sizes of written entities         | DELTA | DISTRIBUTION | By   | datastore_request  | Distribution of sizes of written entities, grouped by op. Sampled every 60 seconds. Data not visible for up to 240 seconds.             | op: Operation type (e.g., CREATE, DELETE_NOOP).                                                                     |
| index/write_count                        | **GA**       | Index writes                      | DELTA | INT64        | 1    | datastore_request  | Count of Datastore index writes. Sampled every 60 seconds. Data not visible for up to 240 seconds.                                      |                                                                                                                     |

##  Datastream

Datastream metrics

| Metric Type                          | Launch Stage | Display Name                              | Kind  | Type         | Unit | Monitored Resource                     | Description                                                                                                                                                                   | Labels                                                                                                              |
| ------------------------------------ | ------------ | ----------------------------------------- | ----- | ------------ | ---- | -------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------- |
| stream/bytes_count                   | BETA         | Stream bytes count                        | DELTA | INT64        | By   | datastream.googleapis.com/Stream       | The stream bytes count.                                                                                                                                                       | read_method: The events read method.                                                                                |
| stream/event_count                   | BETA         | Stream event count                        | DELTA | INT64        | 1    | datastream.googleapis.com/Stream       | The stream event count.                                                                                                                                                       | read_method: The events read method.                                                                                |
| stream/freshness                     | BETA         | Stream freshness                          | GAUGE | INT64        | s    | datastream.googleapis.com/Stream       | Indicates how far behind Datastream is compared to the source, calculated as the time difference between the change in the source database and when it is read by Datastream. |                                                                                                                     |
| stream/latencies                     | BETA         | Stream latencies                          | DELTA | DISTRIBUTION | s    | datastream.googleapis.com/Stream       | The stream latencies.                                                                                                                                                         | read_method: The events read method.                                                                                |
| stream/system_latencies              | BETA         | Stream system latencies                   | DELTA | DISTRIBUTION | s    | datastream.googleapis.com/Stream       | A distribution of the latency from when the event was read from the source until it was written to the destination.                                                           | read_method: The events read method.                                                                                |
| stream/total_latencies               | BETA         | Stream total latencies                    | DELTA | DISTRIBUTION | s    | datastream.googleapis.com/Stream       | A distribution of the latency from when the event was created at the source until it was written to the destination.                                                          | read_method: The events read method.                                                                                |
| stream/unsupported_event_count       | BETA         | Stream unsupported event count            | DELTA | INT64        | 1    | datastream.googleapis.com/Stream       | The stream unsupported event count.                                                                                                                                           | read_method: The events read method. <br> object_name: Object name. <br> error_code: Reason events are unsupported. |
| streamobject/bytes_count             | ALPHA        | bytes count per stream object             | DELTA | INT64        | By   | datastream.googleapis.com/StreamObject | The bytes count per stream object.                                                                                                                                            | read_method: The events read method.                                                                                |
| streamobject/event_count             | ALPHA        | event count per stream object             | DELTA | INT64        | 1    | datastream.googleapis.com/StreamObject | The event count per stream object.                                                                                                                                            | read_method: The events read method.                                                                                |
| streamobject/unsupported_event_count | ALPHA        | unsupported event count per stream object | DELTA | INT64        | 1    | datastream.googleapis.com/StreamObject | The unsupported event count per stream object.                                                                                                                                | read_method: The events read method.                                                                                |

##  Firestore

Firestore metrics

| Metric Type                                       | Launch Stage | Display Name                                        | Kind  | Type         | Unit          | Monitored Resource                | Description                                                                                                                                              | Labels                                                                                                                                                                           |
| ------------------------------------------------- | ------------ | --------------------------------------------------- | ----- | ------------ | ------------- | --------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| api/request_count                                 | BETA         | Requests                                            | DELTA | INT64        | 1             | datastore_request                 | Count of Firestore API calls. Sampled every 60 seconds. Data not visible for up to 240 seconds.                                                          | api_method: API method called. <br> response_code: Operation response code string.                                                                                               |
| api/request_latencies                             | BETA         | Request latencies per database                      | DELTA | DISTRIBUTION | s             | firestore.googleapis.com/Database | Non-streaming Firestore and Datastore request latencies from the frontend. Sampled every 60 seconds. Data not visible for up to 240 seconds.             | service: API service called. <br> api_method: API method called. <br> response_code: Operation response code string.                                                             |
| composite_indexes_per_database                    | BETA         | Composite Indexes Per Database                      | GAUGE | INT64        | 1             | firestore.googleapis.com/Database | Current number of composite indexes per database. Sampled every 60 seconds. Data not visible for up to 120 seconds.                                      |                                                                                                                                                                                  |
| document/delete_count                             | GA           | Document Deletes                                    | DELTA | INT64        | 1             | firestore_instance                | The number of successful document deletes. Sampled every 60 seconds. Data not visible for up to 240 seconds.                                             | module: Service/module name. <br> version: Version name.                                                                                                                         |
| document/delete_ops_count                         | BETA         | Document deletes                                    | DELTA | INT64        | 1             | firestore.googleapis.com/Database | The number of successful document deletes. Sampled every 60 seconds. Data not visible for up to 240 seconds.                                             |                                                                                                                                                                                  |
| document/read_count                               | GA           | Document Reads                                      | DELTA | INT64        | 1             | firestore_instance                | The number of successful document reads from queries or lookups. Sampled every 60 seconds. Data not visible for up to 240 seconds.                       | module: Service/module name. <br> version: Version name. <br> type: Type of the read.                                                                                            |
| document/read_ops_count                           | BETA         | Document reads                                      | DELTA | INT64        | 1             | firestore.googleapis.com/Database | The number of successful document reads from queries or lookups. Sampled every 60 seconds. Data not visible for up to 240 seconds.                       | type: Type of the read.                                                                                                                                                          |
| document/ttl_deletion_count                       | GA           | TTL deletion count                                  | DELTA | INT64        | 1             | firestore.googleapis.com/Database | Total count of documents deleted by TTL services. Sampled every 60 seconds. Data not visible for up to 240 seconds.                                      |                                                                                                                                                                                  |
| document/ttl_expiration_to_deletion_delays        | GA           | TTL expiration to deletion delays                   | DELTA | DISTRIBUTION | s             | firestore.googleapis.com/Database | Time elapsed between TTL expiration and actual deletion of a document. Sampled every 60 seconds. Data not visible for up to 240 seconds.                 |                                                                                                                                                                                  |
| document/write_count                              | GA           | Document Writes                                     | DELTA | INT64        | 1             | firestore_instance                | The number of successful document writes. Sampled every 60 seconds. Data not visible for up to 240 seconds.                                              | module: Service/module name. <br> version: Version name. <br> op: Operation name for the write.                                                                                  |
| document/write_ops_count                          | BETA         | Document writes                                     | DELTA | INT64        | 1             | firestore.googleapis.com/Database | The number of successful document writes. Sampled every 60 seconds. Data not visible for up to 240 seconds.                                              | op: Operation name for the write.                                                                                                                                                |
| network/active_connections                        | BETA         | Connected Clients                                   | GAUGE | INT64        | 1             | firestore.googleapis.com/Database | The number of active connections. Sampled every 60 seconds. Data not visible for up to 240 seconds.                                                      | module: Service/module name. <br> version: Version name.                                                                                                                         |
| network/snapshot_listeners                        | BETA         | Snapshot Listeners                                  | GAUGE | INT64        | 1             | firestore.googleapis.com/Database | The number of snapshot listeners registered across all connected clients. Sampled every 60 seconds. Data not visible for up to 240 seconds.              | module: Service/module name. <br> version: Version name.                                                                                                                         |
| query_stat/per_query/result_counts                | BETA         | Number of results yielded per query                 | DELTA | DISTRIBUTION | results       | firestore.googleapis.com/Database | Distribution of number of results yielded per query. Real-time queries excluded. Sampled every 60 seconds. Data not visible for up to 240 seconds.       | service: API service called. <br> method: API method called.                                                                                                                     |
| query_stat/per_query/scanned_documents_counts     | BETA         | Number of documents scanned per query               | DELTA | DISTRIBUTION | documents     | firestore.googleapis.com/Database | Distribution of number of documents scanned per query. Real-time queries excluded. Sampled every 60 seconds. Data not visible for up to 240 seconds.     | service: API service called. <br> method: API method called.                                                                                                                     |
| query_stat/per_query/scanned_index_entries_counts | BETA         | Number of index entries scanned per query           | DELTA | DISTRIBUTION | index entries | firestore.googleapis.com/Database | Distribution of number of scanned index entries per query. Real-time queries excluded. Sampled every 60 seconds. Data not visible for up to 240 seconds. | service: API service called. <br> method: API method called.                                                                                                                     |
| quota/composite_indexes_per_database/exceeded     | BETA         | Composite Indexes Per Database quota exceeded error | DELTA | INT64        | 1             | firestore.googleapis.com/Database | Number of attempts to exceed the limit on composite indexes per database. Data not visible for up to 150 seconds.                                        | limit_name: The limit name.                                                                                                                                                      |
| quota/composite_indexes_per_database/limit        | BETA         | Composite Indexes Per Database quota limit          | GAUGE | INT64        | 1             | firestore.googleapis.com/Database | Current limit on composite indexes per database. Sampled every 60 seconds. Data not visible for up to 150 seconds.                                       | limit_name: The limit name.                                                                                                                                                      |
| quota/composite_indexes_per_database/usage        | BETA         | Composite Indexes Per Database quota usage          | GAUGE | INT64        | 1             | firestore.googleapis.com/Database | Current usage on composite indexes per database. Sampled every 60 seconds. Data not visible for up to 150 seconds.                                       | limit_name: The limit name.                                                                                                                                                      |
| rules/evaluation_count                            | BETA         | Rule Evaluations                                    | DELTA | INT64        | 1             | firestore.googleapis.com/Database | The number of Firestore Security Rule evaluations performed. Sampled every 60 seconds. Data not visible for up to 240 seconds.                           | request_method: Permission type of the request. <br> ruleset_label: Ruleset label. <br> version: Version name. <br> module: Service/module name. <br> result: Evaluation result. |
